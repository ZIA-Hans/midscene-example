# 功能: 手机验证码登录
# 预置条件: 处于登录页面

agent:
  testId: "WeChat_Mini_Program_Basic_7"
  groupName: "手机验证码登录"
  generateReport: true
  aiActContext: "处于登录页面，已勾选《用户服务协议》和《隐私协议》，选择验证码登录，使用测试手机号13000000075和验证码111111"

android:
  deviceId: "${ANDROID_DEVICE_ID}"

tasks:
  - name: "手机验证码登录流程"
    flow:
      - aiWaitFor: "进入登录页面"
      - aiTap: "勾选《用户服务协议》和《隐私协议》"
      - aiTap: "登录页面选择'验证码登录'"
      - aiInput: "13000000075"
        locate: "在手机号输入框中输入"
      - aiTap: "点击获取验证码"
      - aiWaitFor: "安全验证完成"
      - aiAssert: "可收到验证码"
        errorMessage: "未收到验证码"
        name: "verify_code_received"
      - aiInput: "111111"
        locate: "在验证码输入框中输入"
      - aiTap: "点击登录按钮"
      - aiWaitFor: "登录处理完成"
      - aiAssert: "已注册的账号直接登录，或未注册的账号以该手机号自动完成注册并登录"
        errorMessage: "手机验证码登录失败"
        name: "verify_login_success"
      - aiAssert: "登录成功后，同步账号信息"
        errorMessage: "账号信息同步失败"
        name: "verify_account_sync"

